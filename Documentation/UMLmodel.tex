\section{UML Models}

\subsection{Use Case Diagram}
These are the use cases which are part of the service
\begin{itemize}
	\item Sign up
	\item Log in
	\item Edit user data
	\item Instant ride
	\item Booking ride
	\item Edit booking
	\item Cancel booking
	\item View status and accept sharing
	\item View past rides
	\item Set working condition
	\item Notify end of a ride
	\item Accept or refuse a job
	\item Logout
	
	
\end{itemize}

%-------------------------------------------------------
%Use case
%-------------------------------------------------------

%\endsubsection
\subsection{Use Case Description}
These are the detailed descriptions of the Use Cases listed and shown before
\begin{Huge} da sistemare 
\end{Huge}


\newpage
"Sign up" case:
\\
\\
\begin{tabular}{|p{3cm}|p{10cm}|} 
\hline
Name & Sign up\\
\hline
Actor & Guest\\
\hline
Entry conditions & None\\
\hline
Flow of events & 
	\begin{itemize}
		\item The guest enters the website
		\item The guest clicks the SIGN UP button
		\item The guest fills the following fields:
		\begin{itemize}
			\item Account type $($User or Taxi Driver$)$
			\item Name
			\item Surname
			\item E-mail
			\item Password
			\item Payament system $($optional, only for Users$)$
			\item Taxi Code $($only for Taxi Drivers$)$
		\end{itemize}
		\item The Guest clicks on CONFIRM button
	\end{itemize}\\
\hline
Exit conditions & The system shows the home page personalized with the user credential and updates its database. If the Guests signs up as a taxi driver, matches his profile with the taxi code in the database\\
\hline
Exceptions & The guest inserts the wrong email/password combination, the email is already registered in the system or the taxi code is already assigned or doens't exist in the database\\
\hline
\end {tabular}



\newpage
"Log in" case:
\\
\\
\begin{tabular}{|p{3cm}|p{10cm}|} 
\hline
Name & Log in\\
\hline
Actor & Guest\\
\hline
Entry conditions & None\\
\hline
Flow of events & \begin{itemize}
					\item The guest enters the website
					\item The guest fills the text field requested $($email and password$)$
					\item The guest clicks on LOG IN button
				\end{itemize}\\
\hline
Exit conditions & The system shows the home page personalized with the user credential\\
\hline
Exceptions & The guest inserts the wrong email/password combination or the email is not registered in the system\\
\hline
\end {tabular}


\newpage
"Edit user's data" case:
\\
\\
\begin{tabular}{|p{3cm}|p{10cm}|} 
\hline
Name & Edit user's data\\
\hline
Actor & User and Taxi driver\\
\hline
Entry conditions & None\\
\hline
Flow of events & 
	\begin{itemize}
		\item The User clicks on EDIT USER DATA button
		\item The system shows the list of data that the User filled when he signed up
		\item The User modifies the data
		\item The User clicks on SAVE button
		\item The system shows the modified data list
		\item The User click on OK button
	\end{itemize}	\\
\hline
Exit conditions & The system shows the home page personalized with the user credential\\
\hline
Exceptions & The guest inserts wrong new data or doesn't fill all the required fields\\
\hline
\end {tabular}


\newpage
"Instant ride" case:
\\
\\
\begin{tabular}{|l|p{10cm}|} 
\hline
Name & Instant ride\\
\hline
Actor & Guest and User\\
\hline
Entry conditions & None\\
\hline
Flow of events &
	\begin{itemize}
		\item The User clicks on CALL A TAXI button
		\item The system shows the page used to call a taxi
		\item The User chooses if insert an address or use his own position $($via GPS$)$
		\item The User clicks on OK button
	\end{itemize}\\
\hline
Exit conditions & The system shows a confirmation message\\
\hline
Exceptions & None\\
\hline
\end {tabular}


\newpage
"Booking ride" case:
\\
\\
\begin{tabular}{|l|p{10cm}|} 
\hline
Name & Booking ride\\
\hline
Actor & User\\
\hline
Entry conditions & None\\
\hline
Flow of events &
	\begin{itemize}
		\item The User clicks on BOOK A RIDE button
		\item The system shows a page with the field that the User has to fill:
		\begin{itemize}
			\item Origin position $($can be usd the GPS$)$
			\item Destination
			\item Departuring Time
			\item An option to enable the Taxi Sharing
		\end{itemize}
		\item The User fills the fields and clicks OK button
	\end{itemize}\\
\hline
Exit conditions & The system shows the confirmation page with the data inserted by the User and updares its booking list\\
\hline
Exceptions & The guest inserts wrong new data like an impossible hour\\
\hline
\end {tabular}


\newpage
"Edit Booking" case:
\\
\\
\begin{tabular}{|l|p{10cm}|} 
\hline
Name & Edit Booking\\
\hline
Actor & User\\
\hline
Entry conditions & The User must have booked at least one ride\\
\hline
Flow of events &
	\begin{itemize}
			\item The User clicks on MY BOOKINGS button
			\item The system shows a page with all the User's bookings
			\item The User chooses a booking and clicks on MODIFY button
			\item The System shows the page of the booking with the field filled when it was created
			\item The User modifies the data and clicks on SAVE button
	\end{itemize}\\			
\hline
Exit conditions & The system shows the confirmation page with the new data of the booking and updates its booking list\\
\hline
Exceptions & The User inserts wrong data like an hour to close to that moment\\
\hline
\end {tabular}

\newpage
"Cancel Booking" case:
\\
\\
\begin{tabular}{|l|p{10cm}|} 
\hline
Name & Cancel Booking\\
\hline
Actor & User\\
\hline
Entry conditions & The User must have booked at least one ride\\
\hline
Flow of events &
	\begin{itemize}
		\item The User clicks on MY BOOKINGS button
		\item The system shows a page with all the User's bookings
		\item The User chooses a booking and clicks on CANCEL button
		\item The System shows a page that ask the user to confirm the cancel \askpippo
		\item The User clicks the OK button
	\end{itemize}\\
\hline
Exit conditions & The system shows the confirmation page and updates its booking list\\
\hline
Exceptions & The User tries to cancel a booking that has a departure hour that is less than 10 minutes after that moment\\
\hline
\end {tabular}

\newpage
"View status and accept sharing" case:
\\
\\
\begin{tabular}{|l|p{10cm}|} 
\hline
Name & View status and accept sharing\\
\hline
Actor & User\\
\hline
Entry conditions & The User must have booked at least one ride with the sharing option\\
\hline
Flow of events & 
	\begin{itemize}
			\item The User clicks on MY BOOKINGS button
			\item The system shows a page with all the User's bookings
			\item The User chooses a shared ride and clicks on STATUS button
			\item The system shows a page with the sharing situation
			\item The User can accept or refuse a adviced sharing clicking on ACCEPT or REFUSE buttons
	\end{itemize}\\
\hline
Exit conditions & The system shows again the User's booking page\\
\hline
Exceptions & None\\
\hline
\end {tabular}

\newpage
"View past bookings" case:
\\
\\
\begin{tabular}{|l|p{10cm}|} 
\hline
Name & View past bookings\\
\hline
Actor & User\\
\hline
Entry conditions & The User must have booked at taken at least one ride\\
\hline
Flow of events &
	\begin{itemize}
		\item The User clicks on MY BOOKINGS button
		\item The system shows a page with all the User's bookings $($if there are any$)$
		\item The User clicks on PAST BOOKINGS button
		\item The system shows a page with the User's past booking
		\item The User can see the details of a particular booking clicking on the DETAILS button
	\end{itemize}\\
	
\hline
Exit conditions & The system shows again the User's booking page\\
\hline
Exceptions & None\\
\hline
\end {tabular}

\newpage
"Set Working Condition" case:
\\
\\
\begin{tabular}{|l|p{10cm}|} 
\hline
Name & Set Working Condition\\
\hline
Actor & Taxi Driver\\
\hline
Entry conditions & None\\
\hline
Flow of events &
	\begin{itemize}
		\item The Driver clicks on MODIFY WORKING STATE button
		\item The system shows a page with the current working state and, if the state is on "working", the amount of time the Driver has been working
		\item The Driver clicks on SET WORKING or SET NOT WORKING button to set his situation
		\item The system shows the working state page updated
	\end{itemize}\\
	
\hline
Exit conditions & The system updates the Driver's condition\\
\hline
Exceptions & None\\
\hline
\end {tabular}


\newpage

"Accept or refuse a job" case:
\\
\\
\begin{tabular}{|l|p{10cm}|} 
\hline
Name & Accept or refuse a job\\
\hline
Actor & Taxi Driver\\
\hline
Entry conditions & The Driver must have been notificated of the presence of a possibile ride \askpippo\\
\hline
Flow of events &
	\begin{itemize}
		\item The Driver opens the notification
		\item The system shows a page the data of the ride
		\item The Driver clicks on ACCEPT or REFUSE button
		\item The system shows a confirmation page
	\end{itemize}\\
\hline
Exit conditions & The system either notifies the asker and removes the Driver from the queue if he accepted, or moves the Driver to the bottom of the queue if he refused\\
\hline
Exceptions & None\\
\hline
\end {tabular}


\newpage

"Notify the end of a ride" case:
\\
\\
\begin{tabular}{|l|p{10cm}|} 
\hline
Name & Notify the end of a ride\\
\hline
Actor & Taxi Driver\\
\hline
Entry conditions & The Driver must have already accepted a ride\\
\hline
Flow of events &
	\begin{itemize}
		\item The Driver clicks on the RIDE COMPLETED button in his homepage
		\item The system shows a page to ask for confirmation
		\item The Driver clicks on the OK or CANCEL button to confirm or not
		\item The system shows the homepage again
	\end{itemize}\\
	
\hline
Exit conditions & The system add the Driver to the queue\\
\hline
Exceptions & None\\
\hline
\end {tabular}

\newpage

"Log Out" case:
\\
\\
\begin{tabular}{|l|p{10cm}|} 
\hline
Name & Log Out\\
\hline
Actor & User and Taxi Driver\\
\hline
Entry conditions & None\\
\hline
Flow of events &
	\begin{itemize}
		\item The user clicks on LOG OUT button
		\item The system shows the Guest's homepage
	\end{itemize}\\
\hline
Exit conditions & None\\
\hline
Exceptions & None\\
\hline
\end {tabular}



%\endsubsection

